在搭建完集群环境后，不得不考虑的一个问题就是用户访问产生的session如何处理。如果不做任何处理的话，用户将出现频繁登录的现象，比如集群中存在A、B两台服务器，用户在第一次访问网站时，Nginx通过其负载均衡机制将用户请求转发到A服务器，这时A服务器就会给用户创建一个Session。当用户第二次发送请求时，Nginx将其负载均衡到B服务器，而这时候B服务器并不存在Session，所以就会将用户踢到登录页面。这将大大降低用户体验度，导致用户的流失，这种情况是项目绝不应该出现的。  

## 基于数据库的Session共享  
拿出一个数据库，专门用来存储session信息。保证session的持久化。  
- 优点：服务器出现问题，session不会丢失  
- 缺点：如果网站的访问量很大，把session存储到数据库中，会对数据库造成很大压力，还需要增加额外的开销维护数据库。

## 基于tomcat web容器本身的session复制机制  
将一台机器上的Session数据广播复制到集群中其余机器上  
- 优点：实现简单、配置较少、当网络中有机器Down掉时不影响用户访问
- 缺点：广播式复制到其余机器有一定廷时，带来一定网络开销  

## 基于Redis 进行 session 共享。  
将Session存入分布式缓存集群中的某台机器上，当用户访问不同节点时先从缓存中拿Session信息  
- 优点：可靠性好
- 缺点：实现复杂、稳定性依赖于缓存的稳定性、Session信息放入缓存时要有合理的策略写入  

## 基于客户端cookie 进行session共享  
以cookie加密的方式保存在客户端.优点是减轻服务器端的压力，每次session信息被写在客服端,然后经浏览器再次提交到服务器。即使两次请求在集群中的两台服务器上完成，也可以到达session共享。  
- 优点:
  1. session信息不用存放在服务器端，大大减轻了服务器的压力.
  2. 一个session中的两次或多次请求可以在一个集群中的多个服务器上完成，可以避免单点故障.
- 缺点:
  1. 传递cookie时，http信息头的长度限制使我们只能够在cookie中存入一部分用户信息.
  2. 需要额外地做session信息加密的工作.  
  3. 每次访问网站二级域名时都会在http信息头中带有这些以cookie形式存储的session信息，会占用一定的带宽.
  4. 这种方式是在客户端进行信息存储，用户完全可以禁用cookie或删除cookie，不是很可靠
